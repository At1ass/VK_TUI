# VK TUI - Roadmap & Feature Proposals

## üéØ –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–´–ï –§–ò–ß–ò (Must-Have)

### 1. **–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞** ‚≠ê –ü–†–ò–û–†–ò–¢–ï–¢ #1
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –Ω–∞—á–∞—Ç—å –¥–∏–∞–ª–æ–≥ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, —Å –∫–æ—Ç–æ—Ä—ã–º —Ä–∞–Ω—å—à–µ –Ω–µ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–ª—Å—è.

**–†–µ—à–µ–Ω–∏–µ**: Quick New Chat screen
- Keybinding: `n` –≤ —Å–ø–∏—Å–∫–µ –¥–∏–∞–ª–æ–≥–æ–≤
- Real-time –ø–æ–∏—Å–∫ –ø–æ –¥—Ä—É–∑—å—è–º: `friends.get`
- –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫: `users.search`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ/–æ—Ç–∫—Ä—ã—Ç–∏–µ –¥–∏–∞–ª–æ–≥–∞

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏**:
```rust
// –ù–æ–≤—ã–π —ç–∫—Ä–∞–Ω
pub enum Screen {
    Auth,
    Main,
    NewChat,
}

// VK API
friends.get(fields: "photo_50,online", order: "hints")
users.search(q: query, count: 20, fields: "photo_50,online")
```

**UI Mock**:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ New Chat                            ‚îÇ
‚îÇ Search: ivan_                       ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ Friends:                            ‚îÇ
‚îÇ ‚óè –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤ (online)              ‚îÇ
‚îÇ ‚óã –ò–≤–∞–Ω –°–∏–¥–æ—Ä–æ–≤                      ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ Search Results:                     ‚îÇ
‚îÇ ‚óã Ivan Ivanov (user_id: 12345)      ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ [Enter] - open | [Esc] - cancel    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### 2. **–ü–æ–∏—Å–∫**
**–í –¥–∏–∞–ª–æ–≥–∞—Ö**:
- `Ctrl+F` –≤ —Å–ø–∏—Å–∫–µ —á–∞—Ç–æ–≤ - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∏–º–µ–Ω–∏
- –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ (–∫–∞–∫ –≤ vim `/`)

**–í —Å–æ–æ–±—â–µ–Ω–∏—è—Ö**:
- `/` –≤ –æ–∫–Ω–µ —Å–æ–æ–±—â–µ–Ω–∏–π - –ø–æ–∏—Å–∫ –≤ —Ç–µ–∫—É—â–µ–º –¥–∏–∞–ª–æ–≥–µ
- `n/N` - –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º
- –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π

**–ì–ª–æ–±–∞–ª—å–Ω—ã–π**:
- `Ctrl+Shift+F` - –ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º –¥–∏–∞–ª–æ–≥–∞–º
- API: `messages.search`

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏**:
```rust
// messages.search
params: {
    q: "search query",
    peer_id: Option<i64>,  // None –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
    count: 20,
    offset: 0
}

// UI —Å–æ—Å—Ç–æ—è–Ω–∏–µ
pub struct App {
    search_mode: Option<SearchMode>,
    search_query: String,
    search_results: Vec<SearchResult>,
}

pub enum SearchMode {
    Chats,         // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞
    Messages,      // –í —Ç–µ–∫—É—â–µ–º –¥–∏–∞–ª–æ–≥–µ
    Global,        // –ü–æ –≤—Å–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è–º
}
```

---

### 3. **–û—Ç–≤–µ—Ç—ã (Reply/Forward)**
**Reply**:
- `r` –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ - –æ—Ç–≤–µ—Ç–∏—Ç—å
- –í–∏–∑—É–∞–ª—å–Ω–∞—è —Å–≤—è–∑—å —Å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º
- –ù–∞–∂–∞—Ç–∏–µ –Ω–∞ reply - —Å–∫—Ä–æ–ª–ª –∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—É

**Forward**:
- `f` –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–∏ - –ø–µ—Ä–µ—Å—ã–ª–∫–∞
- –í—ã–±–æ—Ä –¥–∏–∞–ª–æ–≥–∞ –¥–ª—è –ø–µ—Ä–µ—Å—ã–ª–∫–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º—É–ª—å—Ç–∏—Å–µ–ª–µ–∫—Ç–∞

**API**:
```rust
// Reply
messages.send(
    peer_id: i64,
    message: String,
    reply_to: i64  // ‚Üê message_id
)

// Forward
messages.send(
    peer_id: i64,
    forward_messages: Vec<i64>
)
```

**UI –¥–ª—è reply**:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚îå‚îÄ Reply to Ivan Petrov ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ Original message text here      ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ Your reply: _                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### 4. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/–£–¥–∞–ª–µ–Ω–∏–µ**
**–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**:
- `e` –Ω–∞ —Å–≤–æ—ë–º —Å–æ–æ–±—â–µ–Ω–∏–∏ - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å "(edited)" badge
- –ò—Å—Ç–æ—Ä–∏—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–£–¥–∞–ª–µ–Ω–∏–µ**:
- `dd` (vim-style) - —É–¥–∞–ª–∏—Ç—å
- Confirmation prompt
- –û–ø—Ü–∏–∏: "–¢–æ–ª—å–∫–æ –¥–ª—è –º–µ–Ω—è" / "–î–ª—è –≤—Å–µ—Ö"

**API**:
```rust
messages.edit(
    peer_id: i64,
    message_id: i64,
    message: String
)

messages.delete(
    message_ids: Vec<i64>,
    delete_for_all: bool
)
```

---

### 5. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è –∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–∞**
**–ü—Ä–æ–±–ª–µ–º–∞**: –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ 50 –¥–∏–∞–ª–æ–≥–æ–≤/—Å–æ–æ–±—â–µ–Ω–∏–π.

**–†–µ—à–µ–Ω–∏–µ**:
- –ü–æ–¥–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ –≤–≤–µ—Ä—Ö –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
- –ü–æ–¥–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ –≤–Ω–∏–∑ –≤ –¥–∏–∞–ª–æ–≥–∞—Ö
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä "–∑–∞–≥—Ä—É–∑–∫–∞..."
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏**:
```rust
// –í App –¥–æ–±–∞–≤–∏—Ç—å
pub struct App {
    chats_offset: u32,
    chats_has_more: bool,
    messages_offset: u32,
    messages_has_more: bool,
}

// –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
if app.messages_scroll == 0 && app.messages_has_more {
    app.send_action(AsyncAction::LoadMoreMessages);
}
```

---

## üí° –û–ß–ï–ù–¨ –ü–û–õ–ï–ó–ù–´–ï –§–ò–ß–ò (Should-Have)

### 6. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –≤–ª–æ–∂–µ–Ω–∏—è–º–∏**
**–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è**:
- Sixel/Kitty graphics protocol –¥–ª—è –ø—Ä–µ–≤—å—é
- Fallback –Ω–∞ ASCII art (—á–µ—Ä–µ–∑ `chafa`/`catimg`)
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (—Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ, —Ä–∞–∑–º–µ—Ä)

**–ê—É–¥–∏–æ/–ì–æ–ª–æ—Å–æ–≤—ã–µ**:
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `mpv`/`ffplay` –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
- Waveform ASCII visualization
- –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Ä–∞–∑–º–µ—Ä

**–í–∏–¥–µ–æ**:
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ)
- –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –≤ –≤–Ω–µ—à–Ω–µ–º –ø–ª–µ–µ—Ä–µ
- Thumbnail preview (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)

**–°—Ç–∏–∫–µ—Ä—ã**:
- Emoji fallback –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Å—Ç–∏–∫–µ—Ä–ø–∞–∫–æ–≤
- ID —Å—Ç–∏–∫–µ—Ä–∞ –∏ –ø—Ä–µ–≤—å—é URL
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å "[Sticker: NAME]"

**GIF**:
- –ü–µ—Ä–≤—ã–π —Ñ—Ä–µ–π–º –∫–∞–∫ –ø—Ä–µ–≤—å—é
- ASCII animation (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —á–µ—Ä–µ–∑ `timg`)

---

### 7. **–†–µ–∞–∫—Ü–∏–∏ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è**
**–ü—Ä–æ—Å–º–æ—Ç—Ä**:
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —ç–º–æ–¥–∑–∏ –ø–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏–µ–º
- –°—á–µ—Ç—á–∏–∫ —Ä–µ–∞–∫—Ü–∏–π
- –°–ø–∏—Å–æ–∫ –∫—Ç–æ –ø–æ—Å—Ç–∞–≤–∏–ª (hover/expand)

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ**:
- `Ctrl+R` –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–∏ - –º–µ–Ω—é —Ä–µ–∞–∫—Ü–∏–π
- Quick access: üëç ‚ù§Ô∏è üòÇ üòÆ üò¢ üôè
- –ü–æ–ª–Ω—ã–π emoji picker

**API**:
```rust
messages.sendReaction(
    peer_id: i64,
    cmid: i64,  // conversation_message_id
    reaction_id: i64
)

messages.getReactionsAssets() // —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–µ–∞–∫—Ü–∏–π
```

---

### 8. **Typing indicator (–æ—Ç–ø—Ä–∞–≤–∫–∞)**
**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: –ü–æ–ª—É—á–∞–µ–º —Å–æ–±—ã—Ç–∏—è "–ø–µ—á–∞—Ç–∞–µ—Ç", –Ω–æ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
- –û—Ç–ø—Ä–∞–≤–∫–∞ `messages.setActivity` –ø—Ä–∏ –Ω–∞–±–æ—Ä–µ —Ç–µ–∫—Å—Ç–∞
- Debounce: —Ä–∞–∑ –≤ 5 —Å–µ–∫—É–Ω–¥ –º–∞–∫—Å–∏–º—É–º
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–º–µ–Ω–∞ –ø—Ä–∏ –±–µ–∑–¥–µ–π—Å—Ç–≤–∏–∏ (5+ —Å–µ–∫—É–Ω–¥)

**API**:
```rust
messages.setActivity(
    peer_id: i64,
    type: "typing"  // –∏–ª–∏ "audiomessage"
)
```

---

### 9. **–ó–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è**
**–ü—Ä–æ—Å–º–æ—Ç—Ä**:
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∑–∞–∫—Ä–µ–ø–ª—ë–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤–≤–µ—Ä—Ö—É –¥–∏–∞–ª–æ–≥–∞
- Sticky panel —Å —Ç–µ–∫—Å—Ç–æ–º/–ø—Ä–µ–≤—å—é
- `Ctrl+P` - —Å–∫—Ä–æ–ª–ª –∫ –∑–∞–∫—Ä–µ–ø–ª—ë–Ω–Ω–æ–º—É

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
- `p` –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–∏ - –∑–∞–∫—Ä–µ–ø–∏—Ç—å
- `u` –Ω–∞ –∑–∞–∫—Ä–µ–ø–ª—ë–Ω–Ω–æ–º - –æ—Ç–∫—Ä–µ–ø–∏—Ç—å
- –¢–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤ –≤ –±–µ—Å–µ–¥–∞—Ö

**API**:
```rust
messages.pin(peer_id: i64, message_id: i64)
messages.unpin(peer_id: i64)
```

---

### 10. **–§–∏–ª—å—Ç—Ä—ã –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –¥–∏–∞–ª–æ–≥–æ–≤**
**–§–∏–ª—å—Ç—Ä—ã**:
- `u` - —Ç–æ–ª—å–∫–æ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ
- `i` - —Ç–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã–µ (starred)
- `@` - —Ç–æ–ª—å–∫–æ –≥–¥–µ —É–ø–æ–º—è–Ω—É—Ç
- `/` - –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é

**–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**:
- –ü–æ –¥–∞—Ç–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- –ü–æ –∏–º–µ–Ω–∏ (–∞–ª—Ñ–∞–≤–∏—Ç)
- –ü–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö
- –ó–∞–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–µ –≤–≤–µ—Ä—Ö—É

**UI –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä**:
```
‚îå‚îÄ Chats [Filter: Unread] ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ (3 chats)                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### 11. **–ß–µ—Ä–Ω–æ–≤–∏–∫–∏ (Drafts)**
**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
- –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –¥–∏–∞–ª–æ–≥–∞
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å `[Draft]` –≤ —Å–ø–∏—Å–∫–µ —á–∞—Ç–æ–≤
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
- –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ `~/.config/vk_tui/drafts.json`

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏**:
```rust
// –°—Ç—Ä—É–∫—Ç—É—Ä–∞
#[derive(Serialize, Deserialize)]
struct Draft {
    peer_id: i64,
    text: String,
    cursor: usize,
    timestamp: i64,
}

// –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏
impl App {
    fn switch_chat(&mut self, new_peer_id: i64) {
        if !self.input.is_empty() {
            self.save_draft(self.current_peer_id, &self.input);
        }
        self.input = self.load_draft(new_peer_id).unwrap_or_default();
    }
}
```

---

## üé® –ö–ê–ß–ï–°–¢–í–û –ñ–ò–ó–ù–ò (Nice-to-Have)

### 12. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è**
**Quick jump**:
- `1-9, 0` - –ø–µ—Ä–µ—Ö–æ–¥ –∫ –¥–∏–∞–ª–æ–≥—É –ø–æ –∏–Ω–¥–µ–∫—Å—É
- `gg` - –≤ –Ω–∞—á–∞–ª–æ —Å–ø–∏—Å–∫–∞
- `G` - –≤ –∫–æ–Ω–µ—Ü —Å–ø–∏—Å–∫–∞

**Bookmarks**:
- `m{a-z}` - –ø–æ–º–µ—Ç–∏—Ç—å –¥–∏–∞–ª–æ–≥ –±—É–∫–≤–æ–π
- `'{a-z}` - –ø–µ—Ä–µ–π—Ç–∏ –∫ –ø–æ–º–µ—á–µ–Ω–Ω–æ–º—É
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏

**–ò—Å—Ç–æ—Ä–∏—è**:
- `Ctrl+O` - –Ω–∞–∑–∞–¥ –≤ –∏—Å—Ç–æ—Ä–∏–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- `Ctrl+I` - –≤–ø–µ—Ä–µ–¥
- Stack –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 20 –ø–µ—Ä–µ—Ö–æ–¥–æ–≤

**Jump to unread**:
- `Ctrl+U` - –ø–µ—Ä–≤—ã–π –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–π –¥–∏–∞–ª–æ–≥
- `n` - —Å–ª–µ–¥—É—é—â–∏–π –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–π (–≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ unread)

---

### 13. **Mentions –∏ notifications**
**Mentions**:
- –ü–æ–¥—Å–≤–µ—Ç–∫–∞ @username –≤ —Ç–µ–∫—Å—Ç–µ
- –°—á—ë—Ç—á–∏–∫ @mentions –≤ —Å–ø–∏—Å–∫–µ –¥–∏–∞–ª–æ–≥–æ–≤
- –§–∏–ª—å—Ç—Ä —Ç–æ–ª—å–∫–æ –¥–∏–∞–ª–æ–≥–∏ —Å @

**–°–∏—Å—Ç–µ–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**:
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `libnotify` (Linux)
- `notify-send` fallback
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞: –≤—Å–µ–≥–¥–∞ / —Ç–æ–ª—å–∫–æ @mentions / –Ω–∏–∫–æ–≥–¥–∞

**–ó–≤—É–∫**:
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π beep –ø—Ä–∏ –Ω–æ–≤–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏
- –†–∞–∑–Ω—ã–µ –∑–≤—É–∫–∏ –¥–ª—è: –æ–±—ã—á–Ω–æ–µ / mention / DM

---

### 14. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞**
**–î–ª—è –¥–∏–∞–ª–æ–≥–∞** (`s` –Ω–∞ –¥–∏–∞–ª–æ–≥–µ):
```
‚îå‚îÄ Chat Statistics: Ivan Petrov ‚îÄ‚îÄ‚îê
‚îÇ First message:  2020-01-15      ‚îÇ
‚îÇ Total messages: 1,543           ‚îÇ
‚îÇ Your messages:  847 (55%)       ‚îÇ
‚îÇ Media shared:   42              ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ Activity (last 30 days):        ‚îÇ
‚îÇ ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë    ‚îÇ
‚îÇ Mon Tue Wed Thu Fri Sat Sun     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ì–ª–æ–±–∞–ª—å–Ω–∞—è**:
- –¢–æ–ø-10 –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—è–º
- –ì—Ä–∞—Ñ–∏–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (ASCII)
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–∏–ø–∞–º –≤–ª–æ–∂–µ–Ω–∏–π
- –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV/JSON

---

### 15. **–¢–µ–º—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**
**–ö–æ–Ω—Ñ–∏–≥ —Ñ–∞–π–ª**: `~/.config/vk_tui/config.toml`
```toml
[appearance]
theme = "gruvbox"  # gruvbox, nord, solarized, dracula
show_online_status = true
show_typing_indicator = true
timestamp_format = "HH:MM"

[behavior]
auto_mark_read = true
send_typing_status = true
confirm_delete = true
long_poll_timeout = 25

[keybindings]
quit = "Ctrl+Q"
new_chat = "n"
search = "/"
```

**–¶–≤–µ—Ç–æ–≤—ã–µ —Å—Ö–µ–º—ã**:
- Gruvbox (dark/light)
- Nord
- Solarized (dark/light)
- Dracula
- Monokai

---

### 16. **–ú—É–ª—å—Ç–∏—Å–µ–ª–µ–∫—Ç**
**Visual mode** (–∫–∞–∫ –≤ vim):
- `V` - –Ω–∞—á–∞—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ
- `j/k` - —Ä–∞—Å—à–∏—Ä–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ
- `Escape` - –æ—Ç–º–µ–Ω–∞

**–û–ø–µ—Ä–∞—Ü–∏–∏**:
- `d` - —É–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ
- `f` - –ø–µ—Ä–µ—Å–ª–∞—Ç—å
- `y` - —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –≤ clipboard
- `Ctrl+D` - —Å–∫–∞—á–∞—Ç—å –≤—Å–µ –≤–ª–æ–∂–µ–Ω–∏—è

**UI –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä**:
```
-- VISUAL -- 3 messages selected
```

---

## üöÄ –ü–†–û–î–í–ò–ù–£–¢–´–ï –§–ò–ß–ò (Could-Have)

### 17. **–ú—É–ª—å—Ç–∏–∞–∫–∫–∞—É–Ω—Ç**
**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
- `Ctrl+A` - —Å–ø–∏—Å–æ–∫ –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- –ë—ã—Å—Ç—Ä–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ
- –†–∞–∑–¥–µ–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –≤ `~/.config/vk_tui/accounts/`

**UI**:
```
‚îå‚îÄ Accounts ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚óè Ivan Petrov (current)         ‚îÇ
‚îÇ ‚óã Work Account                  ‚îÇ
‚îÇ ‚óã Secondary                     ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ [a] Add account                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–°—Ç–∞—Ç—É—Å–±–∞—Ä**:
```
[Ivan Petrov] Chats: 42 | Online
```

---

### 18. **–ì—Ä—É–ø–ø—ã –∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞**
**–û—Ç–¥–µ–ª—å–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞**:
- Tab-–Ω–∞–≤–∏–≥–∞—Ü–∏—è: [Chats] [Groups] [Contacts]
- –°–ø–∏—Å–æ–∫ –≥—Ä—É–ø–ø/—Å–æ–æ–±—â–µ—Å—Ç–≤
- Posting –Ω–∞ —Å—Ç–µ–Ω—É

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–µ–Ω—ã
- –ö–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –õ–∞–π–∫–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (–µ—Å–ª–∏ –∞–¥–º–∏–Ω)

**API**:
```rust
groups.get()
wall.post(owner_id: i64, message: String)
wall.get(owner_id: i64)
board.getComments()
```

---

### 19. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –º–µ–¥–∏–∞**
**Polls**:
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤–æ–ø—Ä–æ—Å–∞ –∏ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
- –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ (`1-9` –¥–ª—è –≤—ã–±–æ—Ä–∞)
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö/–∞–±—Å–æ–ª—é—Ç–Ω—ã—Ö —á–∏—Å–ª–∞—Ö

**Stories**:
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–æ–≤—ã—Ö
- –¢–µ–∫—Å—Ç–æ–≤—ã–π summary (–∫—Ç–æ, –∫–æ–≥–¥–∞)
- –ü—Ä–æ—Å–º–æ—Ç—Ä —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–π –±—Ä–∞—É–∑–µ—Ä

**Audio/Music**:
- –ü–ª–µ–µ—Ä –≤ TUI (—á–µ—Ä–µ–∑ `mpv`)
- –ü–ª–µ–π–ª–∏—Å—Ç
- –ü–æ–∏—Å–∫ –º—É–∑—ã–∫–∏

**Market**:
- –ü—Ä–µ–≤—å—é —Ç–æ–≤–∞—Ä–æ–≤
- –¶–µ–Ω–∞, –æ–ø–∏—Å–∞–Ω–∏–µ
- –°—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ–ª–Ω—É—é –≤–µ—Ä—Å–∏—é

---

### 20. **–≠–∫—Å–ø–æ—Ä—Ç –∏ –±—ç–∫–∞–ø**
**–≠–∫—Å–ø–æ—Ä—Ç –¥–∏–∞–ª–æ–≥–∞**:
- –§–æ—Ä–º–∞—Ç—ã: HTML, Markdown, JSON, plain text
- –° –≤–ª–æ–∂–µ–Ω–∏—è–º–∏ / –±–µ–∑
- –î–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç

**–ü–æ–ª–Ω—ã–π –±—ç–∫–∞–ø**:
- –í—Å–µ –¥–∏–∞–ª–æ–≥–∏
- SQLite –±–∞–∑–∞ –∏–ª–∏ JSON dump
- Incremental backup
- Scheduled backup (cron integration)

**–ò–º–ø–æ—Ä—Ç**:
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞
- Merge —Å —Ç–µ–∫—É—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- Conflict resolution

---

### 21. **Offline —Ä–µ–∂–∏–º**
**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**:
- SQLite –∫—ç—à –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- Offline-first: —Å–Ω–∞—á–∞–ª–∞ –∫—ç—à, –ø–æ—Ç–æ–º —Å–µ—Ç—å
- Background sync –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏

**UI –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä**:
```
[OFFLINE] 3 messages pending send
```

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª offline**:
- –ß—Ç–µ–Ω–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- –ù–∞–ø–∏—Å–∞–Ω–∏–µ (queue –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏)
- –ü–æ–∏—Å–∫ –≤ –∫—ç—à–µ

---

### 22. **Macro –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**
**Vim-style macros**:
- `q{a-z}` - –Ω–∞—á–∞—Ç—å –∑–∞–ø–∏—Å—å
- `q` - –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
- `@{a-z}` - –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏

**Canned responses**:
- –®–∞–±–ª–æ–Ω—ã —á–∞—Å—Ç—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
- `:template name` - –≤—Å—Ç–∞–≤–∏—Ç—å
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞–º–∏

**Bot commands**:
- –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ `/command` –≤ –±–æ—Ç–µ
- –ê–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç –∫–æ–º–∞–Ω–¥
- Help –¥–ª—è –∫–æ–º–∞–Ω–¥

---

### 23. **Accessibility**
**Screen reader**:
- –û–ø–∏—Å–∞–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ARIA-–ø–æ–¥–æ–±–Ω—ã–µ –º–µ—Ç–∫–∏
- TTS-friendly —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–í–∏–∑—É–∞–ª—å–Ω—ã–µ —Ä–µ–∂–∏–º—ã**:
- –í—ã—Å–æ–∫–∞—è –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç—å
- –ö—Ä—É–ø–Ω—ã–π —à—Ä–∏—Ñ—Ç (–¥–ª—è —Å–ª–∞–±–æ–≤–∏–¥—è—â–∏—Ö)
- –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π (pure text, no colors)
- Monochrome —Ä–µ–∂–∏–º

---

## üìä –ü–†–ï–î–õ–û–ñ–ï–ù–ù–´–ô ROADMAP

### **Phase 0: Critical Fixes** (1 –Ω–µ–¥–µ–ª—è)
- [ ] Unit —Ç–µ—Å—Ç—ã –¥–ª—è update —Ñ—É–Ω–∫—Ü–∏–∏
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å–µ—Ç–∏ (retry logic)
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ —Ç–æ–∫–µ–Ω–æ–≤

### **Phase 1: –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª** (2-3 –Ω–µ–¥–µ–ª–∏)
1. [ ] **–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞** (new chat screen)
2. [ ] **–ü–æ–∏—Å–∫** –ø–æ –¥–∏–∞–ª–æ–≥–∞–º –∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º
3. [ ] **Reply** –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
4. [ ] **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** (–ø–æ–¥–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏)
5. [ ] **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ** —Å–æ–æ–±—â–µ–Ω–∏–π

### **Phase 2: –£–ª—É—á—à–µ–Ω–∏–µ UX** (2 –Ω–µ–¥–µ–ª–∏)
6. [ ] **Typing indicator** (–æ—Ç–ø—Ä–∞–≤–∫–∞)
7. [ ] **–ß–µ—Ä–Ω–æ–≤–∏–∫–∏** (drafts)
8. [ ] **–ó–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è**
9. [ ] **–§–∏–ª—å—Ç—Ä—ã –¥–∏–∞–ª–æ–≥–æ–≤**
10. [ ] **–£–ª—É—á—à–µ–Ω–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** (bookmarks, jump)

### **Phase 3: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏** (3 –Ω–µ–¥–µ–ª–∏)
11. [ ] **–†–µ–∞–∫—Ü–∏–∏** –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
12. [ ] **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –≤–ª–æ–∂–µ–Ω–∏—è–º–∏** (preview)
13. [ ] **–°–∏—Å—Ç–µ–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
14. [ ] **–ö–æ–Ω—Ñ–∏–≥ –∏ —Ç–µ–º—ã**
15. [ ] **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**

### **Phase 4: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ–∏—á–∏** (ongoing)
16. [ ] **–ú—É–ª—å—Ç–∏–∞–∫–∫–∞—É–Ω—Ç**
17. [ ] **Offline —Ä–µ–∂–∏–º** + SQLite
18. [ ] **–ì—Ä—É–ø–ø—ã –∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞**
19. [ ] **–≠–∫—Å–ø–æ—Ä—Ç –∏ –±—ç–∫–∞–ø**
20. [ ] **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –º–µ–¥–∏–∞** (polls, stories)

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –î–õ–Ø –ù–ï–ú–ï–î–õ–ï–ù–ù–û–ì–û –°–¢–ê–†–¢–ê

**–¢–æ–ø-3 –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ñ–∏—á–∏**:
1. ‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞** - –±–µ–∑ —ç—Ç–æ–≥–æ –Ω–µ–ª—å–∑—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä
2. ‚úÖ **–ü–æ–∏—Å–∫** - —Å–∏–ª—å–Ω–æ –ø–æ–≤—ã—à–∞–µ—Ç usability –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —á–∞—Ç–æ–≤
3. ‚úÖ **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** - –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–ª–∏–Ω–Ω—ã–º–∏ —á–∞—Ç–∞–º–∏

**–°–ª–µ–¥—É—é—â–∏–µ 3**:
4. ‚úÖ **Reply** - –±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞
5. ‚úÖ **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–ø–µ—á–∞—Ç–æ–∫
6. ‚úÖ **–ß–µ—Ä–Ω–æ–≤–∏–∫–∏** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

---

## üìã –ü–†–ò–û–†–ò–¢–ò–ó–ê–¶–ò–Ø –ü–û IMPACT/EFFORT

### High Impact / Low Effort (–î–µ–ª–∞—Ç—å –ø–µ—Ä–≤—ã–º)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ –¥–∏–∞–ª–æ–≥–∞–º (—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è)
- ‚úÖ –ß–µ—Ä–Ω–æ–≤–∏–∫–∏
- ‚úÖ Typing indicator –æ—Ç–ø—Ä–∞–≤–∫–∞
- ‚ö†Ô∏è –ö–æ–Ω—Ñ–∏–≥ —Ñ–∞–π–ª (–±–∞–∑–æ–≤—ã–π)

### High Impact / Medium Effort
- ‚úÖ –ü–∞–≥–∏–Ω–∞—Ü–∏—è
- ‚úÖ Reply –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ
- ‚ö†Ô∏è –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚ö†Ô∏è –§–∏–ª—å—Ç—Ä—ã –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞

### High Impact / High Effort
- ‚ö†Ô∏è Offline —Ä–µ–∂–∏–º
- ‚ö†Ô∏è –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–ª–æ–∂–µ–Ω–∏—è (preview)
- ‚ö†Ô∏è –ú—É–ª—å—Ç–∏–∞–∫–∫–∞—É–Ω—Ç
- ‚ö†Ô∏è –ü–æ–∏—Å–∫ –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—è–º (–≥–ª–æ–±–∞–ª—å–Ω—ã–π)

### Medium Impact / Low Effort
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- ‚úÖ –°–∏—Å—Ç–µ–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ –¢–µ–º—ã
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–±–∞–∑–æ–≤–∞—è)

### Low Impact / Any Effort (–î–µ–ª–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–º)
- ‚ö†Ô∏è Macro —Å–∏—Å—Ç–µ–º–∞
- ‚ö†Ô∏è Stories
- ‚ö†Ô∏è Market items
- ‚ö†Ô∏è Accessibility —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–û–õ–ì–ò

### –°–µ–π—á–∞—Å –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:
1. **Memory leak**: `users: HashMap<i64, User>` –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –æ—á–∏—â–∞–µ—Ç—Å—è
   - –†–µ—à–µ–Ω–∏–µ: LRU cache —Å –ª–∏–º–∏—Ç–æ–º 1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. **No tests**: 0% –ø–æ–∫—Ä—ã—Ç–∏–µ
   - –†–µ—à–µ–Ω–∏–µ: unit —Ç–µ—Å—Ç—ã –¥–ª—è update(), integration –¥–ª—è VK API
3. **Error handling**: panic –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –º–µ—Å—Ç–∞—Ö
   - –†–µ—à–µ–Ω–∏–µ: Result –≤–µ–∑–¥–µ, graceful degradation
4. **Logging**: –º–æ–≥—É—Ç —É—Ç–µ—á—å —Ç–æ–∫–µ–Ω—ã –≤ –ª–æ–≥–∏
   - –†–µ—à–µ–Ω–∏–µ: masked debug –¥–ª—è sensitive data

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
1. **Separation of concerns**: api.rs —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π
   - –†–∞–∑–±–∏—Ç—å –Ω–∞: client.rs, messages.rs, media.rs, longpoll.rs
2. **State management**: app.rs 890 —Å—Ç—Ä–æ–∫
   - –í—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏: chat_state.rs, ui_state.rs
3. **Caching layer**: –¥–æ–±–∞–≤–∏—Ç—å –º–µ–∂–¥—É VK API –∏ App
   - LRU cache –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å–æ–æ–±—â–µ–Ω–∏–π, –¥–∏–∞–ª–æ–≥–æ–≤
4. **Database**: –¥–ª—è offline –∏ –±—ç–∫–∞–ø–æ–≤
   - SQLite schema: users, chats, messages, drafts

---

## üìö –†–ï–°–£–†–°–´ –ò –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

### VK API References:
- [VK API Methods](https://dev.vk.com/method)
- [Long Poll](https://dev.vk.com/api/user-long-poll/getting-started)
- [Upload Server](https://dev.vk.com/api/upload)

### Rust TUI Libraries:
- [ratatui](https://ratatui.rs/) - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- [crossterm](https://github.com/crossterm-rs/crossterm) - events
- [tui-textarea](https://github.com/rhysd/tui-textarea) - –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### Similar Projects:
- [weechat-vk](https://github.com/lensvol/weechat-vk) - WeeChat –ø–ª–∞–≥–∏–Ω
- [telegram-tui](https://github.com/tui-rs-revival/telegram-tui) - inspiration
- [nchat](https://github.com/d99kris/nchat) - multi-protocol

---

## üé¨ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

–ü—Ä–æ–µ–∫—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —Ö–æ—Ä–æ—à–µ–π —Å—Ç–∞—Ä—Ç–æ–≤–æ–π –ø–æ–∑–∏—Ü–∏–∏ —Å –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π. –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–∑–≤–∏—Ç–∏—è:

1. **–ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª** - –¥–æ–≤–µ—Å—Ç–∏ –¥–æ feature parity —Å –æ–±—ã—á–Ω—ã–º–∏ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞–º–∏
2. **UX polish** - —Å–¥–µ–ª–∞—Ç—å —É–¥–æ–±–Ω–µ–µ, –±—ã—Å—Ç—Ä–µ–µ, –∫—Ä–∞—Å–∏–≤–µ–µ
3. **Advanced features** - –≤—ã–π—Ç–∏ –∑–∞ —Ä–∞–º–∫–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
4. **Power user tools** - –º–∞–∫—Ä–æ—Å—ã, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è, —Å–∫—Ä–∏–ø—Ç—ã

–°–ª–µ–¥—É—è roadmap –≤—ã—à–µ, –∑–∞ 2-3 –º–µ—Å—è—Ü–∞ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π production-ready VK –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä –¥–ª—è —Ç–µ—Ä–º–∏–Ω–∞–ª–∞.
